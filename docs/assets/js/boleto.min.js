/*!
 * boleto.js v1.0.2
 * https://github.com/guilhermearaujo/boleto.js
 *
 * Licensed MIT © Guilherme Araújo
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Boleto=e()}}(function(){var e,t,r;return function(){function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=r[a]={exports:{}};t[a][0].call(f.exports,function(e){return o(t[a][1][e]||e)},f,f.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return e}()({1:[function(t,r,n){!function(t,n){"function"==typeof e&&e.amd?e([],n):"object"==typeof r&&r.exports?r.exports=n():t.xmlserializer=n()}(this,function(){var e=function(e){return e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")},t=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},r=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n=function(e){var r=e.value;return" "+e.name+'="'+t(r)+'"'},o=function(e){var t=e.tagName;return"http://www.w3.org/1999/xhtml"===e.namespaceURI&&(t=t.toLowerCase()),t},i=function(e,t){return Array.prototype.map.call(e.attributes||e.attrs,function(e){return e.name}).indexOf("xmlns")>=0||!t&&e.namespaceURI===e.parentNode.namespaceURI?"":' xmlns="'+e.namespaceURI+'"'},a=function(e){return Array.prototype.map.call(e.childNodes,function(e){return p(e)}).join("")},u=function(e,t){var r="<"+o(e);return r+=i(e,t),Array.prototype.forEach.call(e.attributes||e.attrs,function(e){r+=n(e)}),e.childNodes.length>0?(r+=">",r+=a(e),r+="</"+o(e)+">"):r+="/>",r},c=function(e){var t=e.nodeValue||e.value||"";return r(t)},s=function(e){return"\x3c!--"+e.data.replace(/-/g,"&#45;")+"--\x3e"},f=function(e){return"<![CDATA["+e.nodeValue+"]]>"},p=function(e,t){var r=t&&t.rootNode;return"#document"===e.nodeName||"#document-fragment"===e.nodeName?a(e):e.tagName?u(e,r):"#text"===e.nodeName?c(e):"#comment"===e.nodeName?s(e):"#cdata-section"===e.nodeName?f(e):void 0};return{serializeToString:function(t){return e(p(t,{rootNode:!0}))}}})},{}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){"string"==typeof e&&(e=e.split("")),e.reverse();for(var t=0,r=0;r<e.length;r++)t+=(r%8+2)*e[r];return(11-t%11)%10||1}var a=e("./svg"),u=n(a),c=e("./itf"),s=function(){function e(t){if(o(this,e),this.bankSlipNumber=t.replace(/[^\d]/g,""),!this.valid())throw new Error("Invalid bank slip number")}return e.prototype.valid=function e(){if(47!==this.bankSlipNumber.length)return!1;var t=this.barcode().split(""),r=t.splice(4,1);return i(t).toString()===r.toString()},e.prototype.barcode=function e(){return this.bankSlipNumber.replace(/^(\d{4})(\d{5})\d{1}(\d{10})\d{1}(\d{10})\d{1}(\d{15})$/,"$1$5$2$3$4")},e.prototype.number=function e(){return this.bankSlipNumber},e.prototype.prettyNumber=function e(){return this.bankSlipNumber.replace(/^(\d{5})(\d{5})(\d{5})(\d{6})(\d{5})(\d{6})(\d{1})(\d{14})$/,"$1.$2 $3.$4 $5.$6 $7 $8")},e.prototype.bank=function e(){switch(this.barcode().substr(0,3)){case"001":return"Banco do Brasil";case"007":return"BNDES";case"033":return"Santander";case"069":return"Crefisa";case"077":return"Banco Inter";case"102":return"XP Investimentos";case"104":return"Caixa Econômica Federal";case"140":return"Easynvest";case"197":return"Stone";case"208":return"BTG Pactual";case"212":return"Banco Original";case"237":return"Bradesco";case"260":return"Nu Pagamentos";case"341":return"Itaú";case"389":return"Banco Mercantil do Brasil";case"422":return"Banco Safra";case"505":return"Credit Suisse";case"633":return"Banco Rendimento";case"652":return"Itaú Unibanco";case"735":return"Banco Neon";case"739":return"Banco Cetelem";case"745":return"Citibank";default:return"Unknown"}},e.prototype.currency=function e(){switch(this.barcode()[3]){case"9":return{code:"BRL",symbol:"R$",decimal:","};default:return"Unknown"}},e.prototype.checksum=function e(){return this.barcode()[4]},e.prototype.expirationDate=function e(){var t=new Date("1997-10-07"),r=this.barcode().substr(5,4);return new Date(t.getTime()+864e5*r)},e.prototype.amount=function e(){return(this.barcode().substr(9,10)/100).toFixed(2)},e.prototype.prettyAmount=function e(){var t=this.currency();return"Unknown"===t?this.amount():t.symbol+" "+this.amount().replace(".",t.decimal)},e.prototype.toSVG=function e(t){var r=c.encode(this.barcode());return new u.default(r).render(t)},e}();t.exports=s},{"./itf":3,"./svg":4}],3:[function(e,t,r){"use strict";function n(e){return a+e.match(/(..?)/g).map(o).join("")+u}function o(e){for(var t=i[Math.floor(e/10)],r=i[e%10],n="",o=0;o<5;o++)n+=t[o],n+=r[o];return n}var i=["11221","21112","12112","22111","11212","21211","12211","11122","21121","12121"],a="1111",u="211";t.exports={encode:n}},{}],4:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e("xmlserializer"),i=function(){function e(t,r){n(this,e),this.stripes=t.split("").map(function(e){return parseInt(e,10)}),this.stripeWidth=r||4}return e.prototype.render=function e(t){for(var r=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=0,i=0;i<this.stripes.length;i++,n+=a){var a=this.stripeWidth*this.stripes[i],u=document.createElementNS("http://www.w3.org/2000/svg","rect");u.setAttribute("width",a),u.setAttribute("height",100),u.setAttribute("fill",this.color(i)),u.setAttribute("x",n),u.setAttribute("y",0),r.appendChild(u)}if(r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("viewBox","0 0 "+this.viewBoxWidth()+" 100"),void 0===t)return o.serializeToString(r);document.querySelector(t).appendChild(r)},e.prototype.viewBoxWidth=function e(){return this.stripes.reduce(function(e,t){return e+t},0)*this.stripeWidth},e.prototype.color=function e(t){return t%2?"#ffffff":"#000000"},e}();t.exports=i},{xmlserializer:1}]},{},[2])(2)});